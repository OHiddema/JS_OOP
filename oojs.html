<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Object-oriented JavaScript example</title>
</head>

<body>
  <p>This example requires you to enter commands in your browser's JavaScript console (see <a
      href="https://developer.mozilla.org/en-US/docs/Learn/Common_questions/What_are_browser_developer_tools">What are
      browser developer tools</a> for more information).</p>

</body>

<script>

  //Rewriting to ECMAScript 2015 with classes, instead of prototypal inheritance
  // Wow! This code looks much easier to understand!

  class Person {
    constructor(first, last, age, gender, interests) {
      this.name = {
        first,
        last
      };
      this.age = age;
      this.gender = gender;
      this.interests = interests;
    }

    greeting() {
      console.log(`Hi! I'm ${this.name.first}`);
    };

    farewell() {
      console.log(`${this.name.first} has left the building. Bye for now!`);
    };

    bio() {
      // Change output, depending on gender
      let genderText = (this.gender === 'male') ? "He" : "She";

      // Handling interests array of any length correctly
      let len = this.interests.length
      let intString = this.interests[0];

      if (len > 1) {
        for (let i = 1; i < len - 1; i++) {
          intString += `, ${this.interests[i]}`;
        }
        intString += ` and ${this.interests[len - 1]}`;
      }

      console.log(`${this.name.first} ${this.name.last} is ${this.age} years old. ${genderText} likes ${intString}.`);
    };
  }

  class Teacher extends Person {
    constructor(first, last, age, gender, interests, subject, grade) {
      super(first, last, age, gender, interests);

      // subject and grade are specific to Teacher
      this.subject = subject;
      this.grade = grade;
    }

    greeting() {
        let genderText = (this.gender === 'male') ? "Mr." : "Mrs.";
        // console.log('Hello. My name is ' + genderText + ' ' + this.name.last + ', and I teach ' + this.subject + '.');
        console.log(`Hello. My name is ${genderText} ${this.name.last}, and I teach ${this.subject}.`);
      };
  }


  // Test output of the new Teacher object definition
  var teacher1 = new Teacher('Dave', 'Griffiths', 31, 'male', ['football', 'cookery'], 'mathematics');
  console.log(teacher1.name.first);
  console.log(teacher1.interests[0]);
  console.log(teacher1.subject);
  teacher1.bio();
  teacher1.greeting();
  teacher1.farewell();

</script>

</html>