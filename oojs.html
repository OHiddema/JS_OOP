<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Object-oriented JavaScript example</title>
</head>

<body>
  <p>This example requires you to enter commands in your browser's JavaScript console (see <a
      href="https://developer.mozilla.org/en-US/docs/Learn/Common_questions/What_are_browser_developer_tools">What are
      browser developer tools</a> for more information).</p>

</body>

<script>
  function Person(first, last, age, gender, interests) {
    this.name = {
      first: first,
      last: last
    };
    this.age = age;
    this.gender = gender;
    this.interests = interests;
  }

  Person.prototype.bio = function () {
    // Change output, depending on gender
    let genderText = (this.gender === 'male') ? "He" : "She";

    // Handling interests array of any length correctly
    let intString = this.interests[0];

    if (this.interests.length > 1) {
      for (let i = 1; i < this.interests.length - 1; i++) {
        intString += ', ' + this.interests[i];
      }
      intString += ' and ' + this.interests[this.interests.length - 1];
    }

    console.log(this.name.first + ' ' + this.name.last + ' is ' + this.age +
      ' years old. ' + genderText + ' likes ' + intString + '.');
  };

  Person.prototype.greeting = function () {
    console.log('Hi! I\'m ' + this.name.first + '.');
  };

  Person.prototype.farewell = function () {
    console.log(this.name.first + ' has left the building. Bye for now!');
  };

  // Step 4
  // Teacher inherits (first, last, age, gender, interests) from Person
  // and has an additional property: subject
  function Teacher(first, last, age, gender, interests, subject) {
    Person.call(this, first, last, age, gender, interests);

    this.subject = subject;
  }

  // Needed to inherit the method's of Person:
  Teacher.prototype = Object.create(Person.prototype);

  // Set the teacher's prototype contructor form Person to Teacher
  Object.defineProperty(Teacher.prototype, 'constructor', {
    value: Teacher,
    enumerable: false,
    writable: true
  });

  // Give Teacher a different greeting function
  Teacher.prototype.greeting = function () {
    let genderText = (this.gender === 'male') ? "Mr." : "Mrs.";
    console.log('Hello. My name is ' + genderText + ' ' + this.name.last + ', and I teach ' + this.subject + '.');
  };

  // Test output of the new Teacher object definition
  var teacher1 = new Teacher('Dave', 'Griffiths', 31, 'male', ['football', 'cookery'], 'mathematics');
  console.log(teacher1.name.first);
  console.log(teacher1.interests[0]);
  console.log(teacher1.subject);
  teacher1.bio();
  teacher1.greeting();
  teacher1.farewell();

</script>

</html>